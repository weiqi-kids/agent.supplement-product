<!-- Custom styles for navigation dates -->
<style>
/* Navigation item with date - use flexbox for right-alignment */
/* Use !important to override Just the Docs theme styles */
.site-nav .nav-list-item > .nav-list-link {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  width: 100% !important;
}

.nav-date {
  font-size: 0.75em !important;
  color: #959396 !important;
  margin-left: auto !important;
  padding-left: 1em !important;
  white-space: nowrap !important;
  flex-shrink: 0 !important;
}

/* Prevent title from taking full width */
.nav-title {
  flex-grow: 1 !important;
}
</style>

<script>
// Parse navigation titles and separate dates to right-align them
function formatNavDates() {
  const datePattern = /^(.+?)\s+(\d{4}-\d{2}-\d{2})$/;

  document.querySelectorAll('.nav-list-link').forEach(function(link) {
    // Skip if already processed
    if (link.querySelector('.nav-date')) return;

    const text = link.textContent.trim();
    const match = text.match(datePattern);

    if (match) {
      const title = match[1];
      const date = match[2];

      // Clear existing content
      link.textContent = '';

      // Add title span
      const titleSpan = document.createElement('span');
      titleSpan.className = 'nav-title';
      titleSpan.textContent = title;
      link.appendChild(titleSpan);

      // Add date span
      const dateSpan = document.createElement('span');
      dateSpan.className = 'nav-date';
      dateSpan.textContent = date;
      link.appendChild(dateSpan);
    }
  });
}

// Run on DOMContentLoaded
document.addEventListener('DOMContentLoaded', formatNavDates);

// Also run after a short delay in case nav is loaded dynamically
setTimeout(formatNavDates, 100);
setTimeout(formatNavDates, 500);

// Use MutationObserver to catch dynamic nav changes
if (typeof MutationObserver !== 'undefined') {
  const observer = new MutationObserver(function(mutations) {
    formatNavDates();
  });
  document.addEventListener('DOMContentLoaded', function() {
    const nav = document.querySelector('.site-nav');
    if (nav) {
      observer.observe(nav, { childList: true, subtree: true });
    }
  });
}
</script>
