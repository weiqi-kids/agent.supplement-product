# ä¿å¥é£Ÿå“ç”¢å“æƒ…å ±ç³»çµ± â€” åŸ·è¡ŒæŒ‡ä»¤

æœ¬ç³»çµ±æ¡ç”¨ **èƒŒæ™¯å¤šå·¥æ¶æ§‹**ï¼šä¸»åŸ·è¡Œç·’è² è²¬ç›£æ§èˆ‡ä½¿ç”¨è€…äº’å‹•ï¼Œå­ä»£ç†åœ¨èƒŒæ™¯å¹³è¡Œè™•ç†ä»»å‹™ã€‚

---

## æ¶æ§‹æ¦‚è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»åŸ·è¡Œç·’ (Opus)                                                â”‚
â”‚  â”œâ”€â”€ ç›£æ§æ‰€æœ‰èƒŒæ™¯ä»»å‹™é€²åº¦                                       â”‚
â”‚  â”œâ”€â”€ èˆ‡ä½¿ç”¨è€…äº’å‹•ï¼ˆå¯åŒæ™‚è™•ç†å…¶ä»–è«‹æ±‚ï¼‰                         â”‚
â”‚  â””â”€â”€ å½™æ•´çµæœä¸¦å›å ±                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  èƒŒæ™¯å­ä»£ç† (Sonnet Ã— Nï¼Œå¹³è¡ŒåŸ·è¡Œ)                              â”‚
â”‚  â”œâ”€â”€ [Layer] us_dsld        â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] ca_lnhpd       â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] kr_hff         â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] jp_fnfc        â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] jp_foshu       â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] tw_hf          â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] pubmed         â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] dhi            â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] dfi            â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Layer] ddi            â†’ fetch â†’ extract â†’ update         â”‚
â”‚  â”œâ”€â”€ [Mode]  market_snapshot     â†’ å ±å‘Šç”¢å‡º                     â”‚
â”‚  â”œâ”€â”€ [Mode]  ingredient_radar    â†’ å ±å‘Šç”¢å‡º                     â”‚
â”‚  â”œâ”€â”€ [Mode]  topic_tracking      â†’ ä¸»é¡Œè¿½è¹¤å ±å‘Š                 â”‚
â”‚  â””â”€â”€ [Mode]  literature_review   â†’ æ–‡ç»è–ˆèƒå ±å‘Š                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€ŸæŒ‡ä»¤

| æŒ‡ä»¤ | è¡Œç‚º |
|------|------|
| `åŸ·è¡Œå®Œæ•´æµç¨‹` | èƒŒæ™¯å¹³è¡ŒåŸ·è¡Œæ‰€æœ‰ Layer + Mode + ä¸»é¡Œè¿½è¹¤ + æ¨è–¦ + Jekyll + **å“è³ªé—œå¡æª¢æŸ¥** |
| `æ›´æ–°è³‡æ–™` | åŒä¸Š |

> âš ï¸ **æ³¨æ„**ï¼š`åŸ·è¡Œå®Œæ•´æµç¨‹` å¿…é ˆé€šéã€Œéšæ®µä¸ƒï¼šä»»å‹™å®Œæˆå“è³ªé—œå¡ã€çš„æ‰€æœ‰æª¢æŸ¥é …ç›®æ‰è¦–ç‚ºæˆåŠŸå®Œæˆã€‚

| `åŸ·è¡Œ {layer}` | èƒŒæ™¯åŸ·è¡Œå–®ä¸€ Layerï¼ˆå¦‚ `åŸ·è¡Œ us_dsld`ï¼‰ |
| `åŸ·è¡Œ {mode}` | èƒŒæ™¯åŸ·è¡Œå–®ä¸€ Modeï¼ˆå¦‚ `åŸ·è¡Œ market_snapshot`ï¼‰ |
| `åªè·‘ fetch` | èƒŒæ™¯å¹³è¡ŒåŸ·è¡Œæ‰€æœ‰ Layer çš„ fetch.sh |
| `åªè·‘èƒå–` | èƒŒæ™¯å¹³è¡ŒåŸ·è¡Œæ‰€æœ‰ Layer çš„èƒå–è…³æœ¬ |
| `å»ºç½® HTML` | å‰æ™¯åŸ·è¡Œ `python3 scripts/build_html.py` |
| `æŸ¥çœ‹é€²åº¦` | é¡¯ç¤ºæ‰€æœ‰èƒŒæ™¯ä»»å‹™ç‹€æ…‹ |
| `æ¨è–¦ä¸»é¡Œ` | åŸ·è¡Œ `python3 scripts/recommend_topics.py` |
| `æ–°å¢ä¸»é¡Œ` | åŸ·è¡Œ `python3 scripts/create_topic.py --interactive` |
| `ç¶²ç«™æ”¹ç‰ˆ` | åŸ·è¡Œå®Œæ•´æ”¹ç‰ˆæµç¨‹ï¼ˆè¦‹ã€Œç¶²ç«™æ”¹ç‰ˆæµç¨‹ã€ç« ç¯€ï¼‰ |
| `ç¶²ç«™å¥æª¢` | åŸ·è¡Œ `revamp/tools/site-audit.sh {URL}` |
| `ç«¶å“åˆ†æ` | åŸ·è¡Œ `revamp/tools/competitive-audit.sh {URLs}` |

---

## åŸ·è¡Œæµç¨‹

### éšæ®µä¸€ï¼šç™¼ç¾ï¼ˆå‰æ™¯ï¼Œå¿«é€Ÿï¼‰

```bash
# ç™¼ç¾æ‰€æœ‰æœ‰æ•ˆ Layer
ls -d core/Extractor/Layers/*/ | grep -v '.disabled'

# ç™¼ç¾æ‰€æœ‰æœ‰æ•ˆ Mode
ls -d core/Narrator/Modes/*/ | grep -v '.disabled'

# ç™¼ç¾æ‰€æœ‰è¿½è¹¤ä¸»é¡Œ
ls core/Narrator/Modes/topic_tracking/topics/*.yaml
```

### éšæ®µäºŒï¼šè³‡æ–™è™•ç†ï¼ˆèƒŒæ™¯ï¼Œå¹³è¡Œï¼‰

**å°æ¯å€‹ Layer å•Ÿå‹•ä¸€å€‹èƒŒæ™¯å­ä»£ç†**ï¼ˆSonnet, `run_in_background: true`ï¼‰ï¼š

```
Task(
  subagent_type: "general-purpose",
  model: "sonnet",
  run_in_background: true,
  prompt: "åŸ·è¡Œ {layer_name} çš„å®Œæ•´è³‡æ–™è™•ç†æµç¨‹..."
)
```

æ¯å€‹å­ä»£ç†ä¾åºåŸ·è¡Œï¼š
1. `fetch.sh` â€” ä¸‹è¼‰åŸå§‹è³‡æ–™
2. `extract_{layer}.py` â€” èƒå–ç‚º `.md`
3. `update.sh` â€” å¯«å…¥ Qdrantï¼ˆå¯é¸ï¼‰

**Layer æ¸…å–®**ï¼š

| Layer | è³‡æ–™ä¾†æº | é ä¼°æ™‚é–“ | ç‹€æ…‹ |
|-------|----------|----------|------|
| `us_dsld` | ç¾åœ‹è†³é£Ÿè£œå……åŠ‘æ¨™ç¤ºè³‡æ–™åº« | 2-5 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `ca_lnhpd` | åŠ æ‹¿å¤§å¤©ç„¶å¥åº·ç”¢å“è³‡æ–™åº« | 3-8 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `kr_hff` | éŸ“åœ‹å¥åº·æ©Ÿèƒ½é£Ÿå“è³‡æ–™åº« | 2-5 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `jp_fnfc` | æ—¥æœ¬æ©Ÿèƒ½æ€§è¡¨ç¤ºé£Ÿå“è³‡æ–™åº« | 1-2 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `jp_foshu` | æ—¥æœ¬ç‰¹å®šä¿å¥ç”¨é£Ÿå“è³‡æ–™åº« | 1-2 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `tw_hf` | å°ç£è¡›ç¦éƒ¨å¥åº·é£Ÿå“è³‡æ–™åº« | 1 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `pubmed` | PubMed å­¸è¡“æ–‡ç»è³‡æ–™åº« | 2-5 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `dhi` | PubMed è—¥ç‰©-è£œå……åŠ‘äº¤äº’æ–‡ç» | 1-2 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `dfi` | PubMed è—¥ç‰©-é£Ÿç‰©äº¤äº’æ–‡ç» | 1-2 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `ddi` | PubMed è—¥ç‰©-è—¥ç‰©äº¤äº’æ–‡ç» | 1-2 åˆ†é˜ | âœ… å•Ÿç”¨ |
| `th_fda` | æ³°åœ‹ FDA å¥åº·é£Ÿå“è³‡æ–™åº« | â€” | âŒ å·²ç¦ç”¨ |
| `ingredient_map` | RxNorm API æˆåˆ†æ¨™æº–åŒ– | â€” | â¸ï¸ æš«åœ |

> ç¦ç”¨çš„ Layer å¸¶æœ‰ `.disabled` æ¨™è¨˜ï¼ŒåŸ·è¡Œæµç¨‹æœƒè‡ªå‹•è·³éã€‚
> æš«åœçš„ Layer åŠŸèƒ½å·²é–‹ç™¼å®Œæˆï¼Œä½†ç›®å‰æœªç´å…¥ä¾‹è¡ŒåŸ·è¡Œæµç¨‹ã€‚

### éšæ®µä¸‰ï¼šå ±å‘Šç”¢å‡ºï¼ˆèƒŒæ™¯ï¼Œå¹³è¡Œï¼‰

**ç­‰å¾…éšæ®µäºŒå®Œæˆå¾Œ**ï¼Œå°æ¯å€‹ Mode å•Ÿå‹•èƒŒæ™¯å­ä»£ç†ï¼ˆSonnetï¼‰ï¼š

```
Task(
  subagent_type: "general-purpose",
  model: "sonnet",
  run_in_background: true,
  prompt: "ä¾æ“š {mode_name}/CLAUDE.md ç”¢å‡ºå ±å‘Š..."
)
```

**Mode æ¸…å–®**ï¼š

| Mode | è¼¸å‡ºä½ç½® | å ±å‘Šé€±æœŸ |
|------|----------|----------|
| `market_snapshot` | `docs/Narrator/market_snapshot/` | é€±å ± |
| `ingredient_radar` | `docs/Narrator/ingredient_radar/` | æœˆå ± |
| `topic_tracking` | `docs/Narrator/topic_tracking/{topic}/` | æœˆå ± |
| `literature_review` | `docs/Narrator/literature_review/{topic}/` | æœˆå ± |

**è¿½è¹¤ä¸»é¡Œæ¸…å–®**ï¼ˆå®šç¾©æ–¼ `core/Narrator/Modes/topic_tracking/topics/`ï¼‰ï¼š

| ä¸»é¡Œ ID | åç¨± | é—œéµè©ç¯„ä¾‹ |
|---------|------|-----------|
| `calcium` | éˆ£ | calcium, calcium citrate |
| `collagen` | è† åŸè›‹ç™½ | collagen, hydrolyzed collagen |
| `curcumin` | è–‘é»ƒç´  | curcumin, turmeric |
| `exosomes` | å¤–æ³Œé«” | exosome, stem cell, å¹¹ç´°èƒ |
| `fish-oil` | é­šæ²¹ | omega-3, EPA, DHA, krill oil |
| `glucosamine` | è‘¡è„ç³–èƒº | glucosamine, chondroitin |
| `lutein` | è‘‰é»ƒç´  | lutein, zeaxanthin |
| `magnesium` | é‚ | magnesium, magnesium citrate |
| `nattokinase` | ç´è±†æ¿€é…¶ | nattokinase, natto |
| `nmn` | NMN | NMN, nicotinamide mononucleotide |
| `red-yeast-rice` | ç´…éº´ | red yeast rice, monacolin K |
| `vitamin-b6` | ç¶­ç”Ÿç´  B6 | vitamin B6, pyridoxine |
| `vitamin-c` | ç¶­ç”Ÿç´  C | vitamin C, ascorbic acid |
| `zinc` | é‹… | zinc, zinc gluconate |

> ä¸»é¡Œå¯é€é `python3 scripts/create_topic.py` æ–°å¢

### éšæ®µä¸‰.5ï¼šé¸è³¼æŒ‡å—äº¤äº’ä½œç”¨æ›´æ–°ï¼ˆå‰æ™¯ï¼‰

**åœ¨ Mode å ±å‘Šå®Œæˆå¾Œ**ï¼Œæ›´æ–°é¸è³¼æŒ‡å—çš„è—¥ç‰©äº¤äº’ç« ç¯€ï¼š

```bash
python3 scripts/update_guide_interactions.py
```

æ­¤è…³æœ¬æœƒè‡ªå‹•ï¼š
- è®€å– `docs/Extractor/dhi`ã€`dfi`ã€`ddi` ä¸‹çš„äº¤äº’æ–‡ç»
- æ ¹æ“š `TOPIC_INTERACTION_MAP` åŒ¹é…ç›¸é—œæ–‡ç»
- æ›´æ–° `docs/reports/{topic}/guide.md` çš„äº¤äº’ç« ç¯€

### éšæ®µå››ï¼šä¸»é¡Œæ¨è–¦ï¼ˆå‰æ™¯ï¼‰

Mode å ±å‘Šå®Œæˆå¾Œï¼Œåˆ†ææˆåˆ†è¶¨å‹¢ä¸¦æ¨è–¦æ–°è¿½è¹¤ä¸»é¡Œï¼š

```bash
python3 scripts/recommend_topics.py
```

æ¨è–¦é‚è¼¯ï¼š
- æˆé•·è¶¨å‹¢ï¼šæ’åä¸Šå‡ 5+ ä½çš„æˆåˆ†
- è·¨åœ‹ç†±é–€ï¼š3+ å€‹å¸‚å ´åŒæ™‚ Top 20
- æ–°èˆˆæˆåˆ†ï¼šé¦–æ¬¡é€²å…¥å…¨çƒ Top 50
- æ’é™¤å·²è¿½è¹¤ä¸»é¡Œ

### éšæ®µäº”ï¼šJekyll è½‰æ› + SEO æ³¨å…¥ï¼ˆå‰æ™¯ï¼‰

æ‰€æœ‰å ±å‘Šå®Œæˆå¾Œï¼Œè½‰æ›ç‚º Jekyll æ ¼å¼ä¸¦æ³¨å…¥ SEO Schemaï¼š

```bash
python3 scripts/convert_to_jekyll.py
```

æ­¤è…³æœ¬æœƒè‡ªå‹•ï¼š
- è®€å– `seo/config.yaml` å…¨åŸŸè¨­å®š
- ç‚ºæ¯å€‹é é¢ç”¢ç”Ÿ JSON-LD Schemaï¼ˆWebPageã€Articleã€BreadcrumbList ç­‰ï¼‰
- åŠ å…¥ YMYL å…è²¬è²æ˜
- è¼¸å‡ºè‡³ `docs/reports/`

### éšæ®µäº”.5ï¼šSEO é©—è­‰ï¼ˆå‰æ™¯ï¼‰

éƒ¨ç½²å‰åŸ·è¡Œ SEO æª¢æŸ¥ï¼š

```bash
python3 scripts/validate_seo.py
```

æª¢æŸ¥é …ç›®ï¼š
- JSON-LD Schema å®Œæ•´æ€§ï¼ˆå¿…å¡« Schema å­˜åœ¨ï¼‰
- Meta æ¨™ç±¤é•·åº¦ï¼ˆtitle â‰¤60 å­—ã€description â‰¤155 å­—ï¼‰
- YMYL å…è²¬è²æ˜å­˜åœ¨
- URL çµæ§‹æ­£ç¢ºï¼ˆè‹±æ–‡å°å¯« + é€£å­—è™Ÿï¼‰

**é€šéæ¨™æº–**ï¼š
- âœ… é€šéï¼šç„¡éŒ¯èª¤
- âš ï¸ è­¦å‘Šï¼šæœ‰è­¦å‘Šä½†å¯éƒ¨ç½²ï¼ˆå»ºè­°ä¿®æ­£ï¼‰
- âŒ å¤±æ•—ï¼šæœ‰éŒ¯èª¤ï¼Œé˜»æ–·éƒ¨ç½²

```bash
# è©³ç´°è¼¸å‡ºï¼ˆå«è­¦å‘Šï¼‰
python3 scripts/validate_seo.py --verbose

# é©—è­‰å–®ä¸€æª”æ¡ˆ
python3 scripts/validate_seo.py --file docs/reports/exosomes/reports/2026-02.md
```

---

## å­ä»£ç† Prompt ç¯„æœ¬ï¼ˆContext å„ªåŒ–ç‰ˆï¼‰

> âš ï¸ **é‡è¦**ï¼šå­ä»£ç†å›å ±å¿…é ˆä½¿ç”¨**ç²¾ç°¡å–®è¡Œæ ¼å¼**ï¼Œé¿å… Context è¶…é™ã€‚

### ç²¾ç°¡å›å ±æ ¼å¼è¦ç¯„

**Layer å­ä»£ç†å›å ±æ ¼å¼**ï¼š
```
DONE|{layer}|F:{fetchç­†æ•¸}|E:{extractç­†æ•¸}|R:{reviewç­†æ•¸}|{OK/ERR}
```

ç¯„ä¾‹ï¼š
```
DONE|us_dsld|F:214780|E:214780|R:9042|OK
DONE|ca_lnhpd|F:160545|E:160545|R:5164|OK
DONE|jp_fnfc|F:0|E:0|R:0|ERR:fetch failed - network timeout
```

**Mode å­ä»£ç†å›å ±æ ¼å¼**ï¼š
```
DONE|{mode}|{period}|{ç­†æ•¸}|{OK/ERR}
```

ç¯„ä¾‹ï¼š
```
DONE|market_snapshot|2026-W07|421076|OK
DONE|ingredient_radar|2026-02|346446|OK
DONE|topic_tracking|exosomes:45,fish-oil:1234|OK
DONE|literature_review|exosomes:50,fish-oil:500|OK
```

### Layer è™•ç†å­ä»£ç†

```markdown
ä½ æ˜¯ {layer_name} è³‡æ–™è™•ç†å­ä»£ç†ã€‚

## ä»»å‹™
1. åŸ·è¡Œ fetch.sh ä¸‹è¼‰åŸå§‹è³‡æ–™
2. åŸ·è¡Œèƒå–è…³æœ¬å°‡ JSONL è½‰ç‚º MD
3. åŸ·è¡Œ update.sh å¯«å…¥ Qdrantï¼ˆè‹¥æœ‰è¨­å®šï¼‰

## è·¯å¾‘
- fetch: core/Extractor/Layers/{layer_name}/fetch.sh
- èƒå–: scripts/extract_{layer_name}.py
- update: core/Extractor/Layers/{layer_name}/update.sh
- è¼¸å‡º: docs/Extractor/{layer_name}/

## è¦æ ¼
è®€å– core/Extractor/Layers/{layer_name}/CLAUDE.md äº†è§£è©³ç´°è¦æ ¼ã€‚

## âš ï¸ ç²¾ç°¡å›å ±ï¼ˆå¿…é ˆéµå®ˆï¼‰
å®Œæˆå¾Œ**åªå›å ±ä¸€è¡Œ**ï¼š
DONE|{layer_name}|F:{fetchç­†æ•¸}|E:{extractç­†æ•¸}|R:{reviewç­†æ•¸}|OK

éŒ¯èª¤æ™‚ï¼š
DONE|{layer_name}|F:{ç­†æ•¸}|E:{ç­†æ•¸}|R:{ç­†æ•¸}|ERR:{ç°¡çŸ­éŒ¯èª¤æè¿°}

âŒ ç¦æ­¢å†—é•·æè¿°ã€ç¦æ­¢è¼¸å‡ºå®Œæ•´ logã€ç¦æ­¢é‡è¤‡æ­¥é©Ÿèªªæ˜
```

### Mode å ±å‘Šå­ä»£ç†

```markdown
ä½ æ˜¯ {mode_name} å ±å‘Šç”¢å‡ºå­ä»£ç†ã€‚

## ä»»å‹™
ä¾æ“š Mode è¦æ ¼ç”¢å‡ºå ±å‘Šã€‚

## è¦æ ¼ä¾†æº
1. core/Narrator/CLAUDE.mdï¼ˆé€šç”¨è¦æ ¼ï¼‰
2. core/Narrator/Modes/{mode_name}/CLAUDE.mdï¼ˆMode å°ˆå±¬è¦æ ¼ï¼‰

## è³‡æ–™ä¾†æº
è®€å– CLAUDE.md ä¸­å®£å‘Šçš„ Layer è³‡æ–™ï¼ˆdocs/Extractor/{layer}/ï¼‰

## è¼¸å‡º
å¯«å…¥ docs/Narrator/{mode_name}/{period}-{mode_name}.md

## âš ï¸ ç²¾ç°¡å›å ±ï¼ˆå¿…é ˆéµå®ˆï¼‰
å®Œæˆå¾Œ**åªå›å ±ä¸€è¡Œ**ï¼š
DONE|{mode_name}|{period}|{æ¶µè“‹ç­†æ•¸}|OK

âŒ ç¦æ­¢è¼¸å‡ºå ±å‘Šå…§å®¹æ‘˜è¦ã€ç¦æ­¢åˆ—èˆ‰çµ±è¨ˆç´°ç¯€
```

### ä¸»é¡Œè¿½è¹¤å­ä»£ç†

```markdown
ä½ æ˜¯ topic_tracking å ±å‘Šç”¢å‡ºå­ä»£ç†ã€‚

## ä»»å‹™
åŸ·è¡Œä¸»é¡Œè¿½è¹¤å ±å‘Šç”¢å‡ºã€‚

## åŸ·è¡ŒæŒ‡ä»¤
python3 scripts/generate_topic_report.py

## è¦æ ¼ä¾†æº
1. core/Narrator/Modes/topic_tracking/CLAUDE.md
2. core/Narrator/Modes/topic_tracking/topics/*.yamlï¼ˆä¸»é¡Œå®šç¾©ï¼‰

## è³‡æ–™ä¾†æº
å¾ docs/Extractor/{layer}/{category}/*.md ç¯©é¸ç¬¦åˆä¸»é¡Œé—œéµè©çš„ç”¢å“

## è¼¸å‡º
- docs/Narrator/topic_tracking/{topic_id}/{period}.md

## âš ï¸ ç²¾ç°¡å›å ±ï¼ˆå¿…é ˆéµå®ˆï¼‰
å®Œæˆå¾Œ**åªå›å ±ä¸€è¡Œ**ï¼š
DONE|topic_tracking|{topic1}:{æ•¸é‡},{topic2}:{æ•¸é‡}|OK

âŒ ç¦æ­¢åˆ—èˆ‰åŒ¹é…ç”¢å“æ¸…å–®
```

### æ–‡ç»è–ˆèƒå­ä»£ç†

```markdown
ä½ æ˜¯ literature_review å ±å‘Šç”¢å‡ºå­ä»£ç†ã€‚

## ä»»å‹™
åŸ·è¡Œæ–‡ç»è–ˆèƒå ±å‘Šç”¢å‡ºã€‚

## åŸ·è¡ŒæŒ‡ä»¤
python3 scripts/generate_literature_report.py --all

## è¦æ ¼ä¾†æº
1. core/Narrator/Modes/literature_review/CLAUDE.md
2. core/Narrator/Modes/topic_tracking/topics/*.yamlï¼ˆä¸»é¡Œå®šç¾©ï¼‰

## è³‡æ–™ä¾†æº
å¾ docs/Extractor/pubmed/{topic}/*.md è®€å–æ–‡ç»è³‡æ–™

## è¼¸å‡º
- docs/Narrator/literature_review/{topic_id}/{period}.md

## âš ï¸ ç²¾ç°¡å›å ±ï¼ˆå¿…é ˆéµå®ˆï¼‰
å®Œæˆå¾Œ**åªå›å ±ä¸€è¡Œ**ï¼š
DONE|literature_review|{topic1}:{æ•¸é‡},{topic2}:{æ•¸é‡}|OK

âŒ ç¦æ­¢è¼¸å‡ºè­‰æ“šç­‰ç´šåˆ†å¸ƒè¡¨ã€ç¦æ­¢åˆ—èˆ‰æ–‡ç»æ¸…å–®
```

---

## ä¸»åŸ·è¡Œç·’è·è²¬ï¼ˆContext å„ªåŒ–ç‰ˆï¼‰

### å•Ÿå‹•éšæ®µ
1. ç™¼ç¾æ‰€æœ‰æœ‰æ•ˆ Layer å’Œ Mode
2. **âš ï¸ Session æ¢å¾©å»é‡æª¢æŸ¥**ï¼ˆè¦‹ä¸‹æ–¹ï¼‰
3. å¹³è¡Œå•Ÿå‹•æ‰€æœ‰ Layer å­ä»£ç†ï¼ˆ`run_in_background: true`ï¼‰
4. å‘ŠçŸ¥ä½¿ç”¨è€…ã€Œå·²å•Ÿå‹• N å€‹èƒŒæ™¯ä»»å‹™ã€ï¼ˆä¸€å¥è©±å³å¯ï¼‰

### âš ï¸ Session æ¢å¾©å»é‡æª¢æŸ¥ï¼ˆå¿…åšï¼ï¼‰

**å•é¡Œ**ï¼šSession å¾ä¹‹å‰çš„å°è©±æ¢å¾©æ™‚ï¼Œå¯èƒ½å¸¶å…¥å·²å®Œæˆçš„èƒŒæ™¯ä»»å‹™ç‹€æ…‹ï¼Œå°è‡´é‡è¤‡åŸ·è¡Œç›¸åŒçš„å ±å‘Šç”¢å‡ºï¼Œæµªè²» API tokensã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šå•Ÿå‹•ä»»å‹™å‰ï¼Œå…ˆæª¢æŸ¥å ±å‘Šæ˜¯å¦å·²åœ¨ç•¶å‰é€±æœŸå…§ç”¢å‡ºã€‚

```bash
# æª¢æŸ¥ topic_tracking å ±å‘Šæ˜¯å¦å·²å­˜åœ¨ä¸”ç‚ºä»Šæ—¥ç”¢å‡º
PERIOD="2026-02"
for topic in $(ls core/Narrator/Modes/topic_tracking/topics/*.yaml | xargs -n1 basename | sed 's/.yaml//'); do
  REPORT="docs/Narrator/topic_tracking/$topic/$PERIOD.md"
  if [ -f "$REPORT" ]; then
    GENERATED=$(grep 'generated_at' "$REPORT" | head -1 | cut -d'"' -f2 | cut -dT -f1)
    TODAY=$(date +%Y-%m-%d)
    if [ "$GENERATED" = "$TODAY" ]; then
      echo "SKIP|$topic|already generated today"
    fi
  fi
done
```

**å»é‡è¦å‰‡**ï¼š

| å ±å‘Šé¡å‹ | é€±æœŸ | å»é‡æ¢ä»¶ |
|----------|------|----------|
| market_snapshot | é€±å ± | æœ¬é€±å ±å‘Šå·²å­˜åœ¨ä¸” `generated_at` åœ¨ä»Šæ—¥ |
| ingredient_radar | æœˆå ± | æœ¬æœˆå ±å‘Šå·²å­˜åœ¨ä¸” `generated_at` åœ¨ä»Šæ—¥ |
| topic_tracking | æœˆå ± | æœ¬æœˆå ±å‘Šå·²å­˜åœ¨ä¸” `generated_at` åœ¨ä»Šæ—¥ |
| literature_review | æœˆå ± | æœ¬æœˆå ±å‘Šå·²å­˜åœ¨ä¸” `generated_at` åœ¨ä»Šæ—¥ |
| Layer è³‡æ–™è™•ç† | æ¯æ¬¡ | ä¸å»é‡ï¼ˆæ°¸é åŸ·è¡Œï¼Œå› ç‚ºè³‡æ–™å¯èƒ½æ›´æ–°ï¼‰ |

**åŸ·è¡Œæµç¨‹**ï¼š

```
Session æ¢å¾© / åŸ·è¡Œå®Œæ•´æµç¨‹
    â”‚
    â”œâ”€â”€ æª¢æŸ¥ç¾æœ‰å ±å‘Š
    â”‚   â”œâ”€â”€ å ±å‘Šå­˜åœ¨ä¸”ä»Šæ—¥ç”¢å‡º â†’ SKIPï¼ˆä¸å•Ÿå‹•å­ä»£ç†ï¼‰
    â”‚   â””â”€â”€ å ±å‘Šä¸å­˜åœ¨æˆ–éä»Šæ—¥ â†’ å•Ÿå‹•å­ä»£ç†
    â”‚
    â””â”€â”€ å›å ±è·³éçš„ä»»å‹™æ•¸é‡
        ä¾‹ï¼šã€Œè·³é 14 å€‹å·²å®Œæˆçš„ topic_tracking å ±å‘Šã€
```

**ç¦æ­¢è¡Œç‚º**ï¼š
- âŒ ä¸æª¢æŸ¥å°±å•Ÿå‹•æ‰€æœ‰å­ä»£ç†
- âŒ é‡è¤‡ç”¢å‡ºåŒä¸€å¤©å·²ç”¢å‡ºçš„å ±å‘Š
- âŒ æµªè²» tokens åœ¨ä¸å¿…è¦çš„é‡è¤‡å·¥ä½œä¸Š

### ç›£æ§éšæ®µï¼ˆä½ Context æ¶ˆè€—ï¼‰

**é«˜æ•ˆç›£æ§åŸå‰‡**ï¼š
- âœ… ä½¿ç”¨ `tail -1` åªè®€å– output_file æœ€å¾Œä¸€è¡Œï¼ˆå­ä»£ç†çš„ç²¾ç°¡å›å ±ï¼‰
- âœ… æ‰¹æ¬¡æª¢æŸ¥å¤šå€‹ä»»å‹™ç‹€æ…‹
- âŒ ç¦æ­¢ä½¿ç”¨ `Read` è®€å–å®Œæ•´ output_file
- âŒ ç¦æ­¢é‡è¤‡è¼¸å‡ºç›¸åŒçš„é€²åº¦è³‡è¨Š

**ç›£æ§æŒ‡ä»¤ç¯„ä¾‹**ï¼š
```bash
# æª¢æŸ¥å–®ä¸€ä»»å‹™æœ€å¾Œä¸€è¡Œ
tail -1 /path/to/output_file

# æ‰¹æ¬¡æª¢æŸ¥æ‰€æœ‰ä»»å‹™ï¼ˆä¸€è¡ŒæŒ‡ä»¤ï¼‰
for f in /tmp/agent_*.txt; do echo "==$f=="; tail -1 "$f" 2>/dev/null || echo "RUNNING"; done
```

**å›æ‡‰ä½¿ç”¨è€…ã€ŒæŸ¥çœ‹é€²åº¦ã€**ï¼š
åªè¼¸å‡ºç²¾ç°¡ç‹€æ…‹è¡¨ï¼Œä¸è¦é‡è¤‡å­ä»£ç†çš„å®Œæ•´è¼¸å‡ºï¼š
```
Layer: âœ…us_dsld âœ…ca_lnhpd â³kr_hff â³jp_fnfc â³jp_foshu â³tw_hf
Mode:  â¸ï¸waiting
```

### å½™æ•´éšæ®µ
1. ç­‰å¾…æ‰€æœ‰ Layer å®Œæˆï¼ˆè§£æç²¾ç°¡å›å ±æ ¼å¼ï¼‰
2. å¹³è¡Œå•Ÿå‹•æ‰€æœ‰ Mode å­ä»£ç†
3. ç­‰å¾…æ‰€æœ‰ Mode å®Œæˆ
4. åŸ·è¡Œ HTML å»ºç½®
5. ç”¢å‡ºæœ€çµ‚å ±å‘Šï¼ˆä½¿ç”¨ä¸‹æ–¹ç²¾ç°¡æ ¼å¼ï¼‰

---

## é€²åº¦è¿½è¹¤æ ¼å¼ï¼ˆç²¾ç°¡ç‰ˆï¼‰

> âš ï¸ **é‡è¦**ï¼šé€²åº¦è¿½è¹¤ä½¿ç”¨å–®è¡Œæ ¼å¼ï¼Œé¿å… Context è†¨è„¹ã€‚

### æ¨™æº–æ ¼å¼ï¼ˆ3 è¡Œä»¥å…§ï¼‰

```
Layer(5/10): âœ…us âœ…ca âœ…kr â³jp_fnfc â³jp_foshu â³tw â³pub â³dhi â³dfi â³ddi
Mode(0/4): â¸ï¸snap â¸ï¸radar â¸ï¸topic â¸ï¸lit
Post: â¸ï¸recommend â¸ï¸jekyll â¸ï¸seo
```

### åœ–ä¾‹

| ç¬¦è™Ÿ | æ„ç¾© |
|------|------|
| âœ… | å®Œæˆ |
| â³ | åŸ·è¡Œä¸­ |
| â¸ï¸ | ç­‰å¾…ä¸­ |
| âŒ | å¤±æ•— |

### ç¸®å¯«å°ç…§

| ç¸®å¯« | å®Œæ•´åç¨± |
|------|----------|
| us | us_dsld |
| ca | ca_lnhpd |
| kr | kr_hff |
| jp_fnfc | jp_fnfc |
| jp_foshu | jp_foshu |
| tw | tw_hf |
| pub | pubmed |
| snap | market_snapshot |
| radar | ingredient_radar |
| topic | topic_tracking |
| lit | literature_review |

---

## èƒå–è…³æœ¬å°ç…§è¡¨

| Layer | fetch è¼¸å‡º | èƒå–æŒ‡ä»¤ |
|-------|-----------|---------|
| ca_lnhpd | `raw/products-*.jsonl` | è¦‹ä¸‹æ–¹è©³ç´°èªªæ˜ |
| jp_fnfc | `raw/fnfc-*.jsonl` | `python3 scripts/extract_jp_fnfc.py` |
| jp_foshu | `raw/foshu-*.jsonl` | `python3 scripts/extract_jp_foshu.py` |
| kr_hff | `raw/hff-*.jsonl` | `python3 scripts/extract_kr_hff.py` |
| us_dsld | `raw/dsld-*.jsonl` | `python3 scripts/extract_us_dsld.py` |
| tw_hf | `raw/tw_hf-*.jsonl` | `python3 scripts/extract_tw_hf.py` |
| pubmed | `raw/{topic}-*.jsonl` | `python3 scripts/extract_pubmed.py [--topic {topic}]` |
| dhi/dfi/ddi | `raw/{type}-*.jsonl` | `python3 scripts/extract_interactions.py --type {type}` |

### ca_lnhpd èƒå–æŒ‡ä»¤è©³ç´°èªªæ˜

```bash
# åŸºæœ¬ç”¨æ³•ï¼ˆåƒ…ç”¢å“è³‡æ–™ï¼‰
python3 scripts/extract_ca_lnhpd.py <products.jsonl>

# å«æˆåˆ†è³‡æ–™ï¼ˆéœ€å…ˆä¸‹è¼‰ ingredients.jsonlï¼‰
python3 scripts/extract_ca_lnhpd.py --ingredients <ingredients.jsonl> <products.jsonl>

# å¢é‡æ›´æ–°æ¨¡å¼
python3 scripts/extract_ca_lnhpd.py --delta <delta.jsonl>

# å¢é‡ + æˆåˆ†
python3 scripts/extract_ca_lnhpd.py --delta --ingredients <ingredients.jsonl> <delta.jsonl>
```

### èƒå–è…³æœ¬ä¸å­˜åœ¨æ™‚

è‹¥ `scripts/extract_{layer}.py` ä¸å­˜åœ¨ï¼Œå­ä»£ç†æ”¹ç”¨é€è¡Œè™•ç†ï¼š

```
â›” ç¦æ­¢ Read å·¥å…·ç›´æ¥è®€å– .jsonlï¼ˆå¯èƒ½æ•¸ MBï¼‰

âœ… wc -l < {jsonl}           â†’ å–å¾—ç¸½è¡Œæ•¸
âœ… sed -n '{N}p' {jsonl}     â†’ é€è¡Œè®€å–
âœ… æ¯è¡Œç¨ç«‹è™•ç†              â†’ Write tool å¯«å‡º .md
```

### update.sh åƒæ•¸èªªæ˜

æ‰€æœ‰ Layer çš„ `update.sh` æ”¯æ´ä»¥ä¸‹åƒæ•¸ï¼š

```bash
# å¢é‡æ¨¡å¼ï¼ˆé è¨­ï¼‰ï¼šåªè™•ç†æ¯” .last_qdrant_update æ›´æ–°çš„æª”æ¡ˆ
./update.sh

# å…¨é‡æ¨¡å¼ï¼šè™•ç†æ‰€æœ‰ .md æª”æ¡ˆ
./update.sh --full

# æŒ‡å®šæª”æ¡ˆæ¸…å–®ï¼šè™•ç†ç‰¹å®šæª”æ¡ˆ
./update.sh /path/to/file1.md /path/to/file2.md
```

**å¢é‡æ›´æ–°æ©Ÿåˆ¶**ï¼š
- æ¯æ¬¡æˆåŠŸåŸ·è¡Œå¾Œï¼Œæœƒæ›´æ–° `.last_qdrant_update` æ™‚é–“æˆ³æª”æ¡ˆ
- ä¸‹æ¬¡åŸ·è¡Œæ™‚ï¼Œåªè™•ç†æ¯”æ­¤æ™‚é–“æˆ³æ›´æ–°çš„ `.md` æª”æ¡ˆ
- é¦–æ¬¡åŸ·è¡Œï¼ˆç„¡æ™‚é–“æˆ³æª”æ¡ˆï¼‰æœƒè™•ç†æ‰€æœ‰æª”æ¡ˆ
- æ‰¹æ¬¡å¤§å°ï¼š200 ç­†/æ‰¹ï¼ˆåŸ 50 ç­†ï¼Œæå‡ 4 å€æ•ˆç‡ï¼‰

---

## ç’°å¢ƒè¨­å®š

`.env` æª”æ¡ˆï¼š

```bash
# Qdrant å‘é‡è³‡æ–™åº«ï¼ˆå¯é¸ï¼‰
QDRANT_URL=...
QDRANT_API_KEY=...
QDRANT_COLLECTION=supplement-product

# OpenAI Embeddingï¼ˆå¯é¸ï¼‰
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536
OPENAI_API_KEY=sk-...

# éŸ“åœ‹ MFDS API
MFDS_API_KEY=...

# æ—¥æœ¬ jp_fnfc CSV ä¸‹è¼‰ URLï¼ˆå¯é¸ï¼‰
# Salesforce Document ID å¯èƒ½è®Šæ›´ï¼Œè‹¥è‡ªå‹•ä¸‹è¼‰å¤±æ•—ï¼Œè«‹æ›´æ–°æ­¤ URL
# JP_FNFC_DOWNLOAD_URL=https://www.fld.caa.go.jp/caaks/sfc/servlet.shepherd/document/download/{æ–°ID}?operationContext=S1

# PubMed APIï¼ˆå¯é¸ï¼Œæé«˜é€Ÿç‡ï¼‰
# ç„¡ Key: 3 req/sï¼›æœ‰ Key: 10 req/s
NCBI_API_KEY=...
NCBI_EMAIL=your-email@example.com
```

> æœªè¨­å®š Qdrant/OpenAI æ™‚ï¼Œupdate.sh æœƒè·³éï¼Œèƒå–æµç¨‹ä»æ­£å¸¸ã€‚
> jp_fnfc çš„ Salesforce Document ID å¯èƒ½è®Šæ›´ã€‚è‹¥è‡ªå‹•ä¸‹è¼‰å¤±æ•—ï¼Œè«‹è‡³ https://www.fld.caa.go.jp/caaks/cssc01/ æ‰‹å‹•ä¸‹è¼‰ CSVã€‚
> PubMed æŸ¥è©¢ç„¡éœ€ API Keyï¼Œä½†è¨­å®šå¾Œå¯æé«˜é€Ÿç‡é™åˆ¶ã€‚

---

## è¼¸å‡ºè¦å‰‡

1. **æ ¼å¼éµå¾ª** â€” å„ Layer/Mode çš„ CLAUDE.md å®šç¾©
2. **è‡ªæˆ‘å¯©æ ¸** â€” é€šé Checklist æ‰ç®—å®Œæˆ
3. **REVIEW_NEEDED** â€” æœªé€šéå¯©æ ¸éœ€æ¨™è¨˜ï¼ˆè©³è¦‹ä¸‹æ–¹è¦å‰‡ï¼‰
4. **Category é™å®š** â€” åªèƒ½ç”¨ `core/CLAUDE.md` å®šç¾©çš„ enum

### REVIEW_NEEDED è™•ç†è¦å‰‡

#### å®šç¾©èˆ‡åˆ¤å®š

`[REVIEW_NEEDED]` æ¨™è¨˜ç”¨æ–¼ **è³‡æ–™ä¸å®Œæ•´æˆ–ç„¡æ³•æ­£ç¢ºèƒå–çš„ç”¢å“**ï¼Œè§¸ç™¼æ¢ä»¶ï¼š

| ä¾†æº | è§¸ç™¼æ¢ä»¶ |
|------|----------|
| us_dsld | å¿…å¡«æ¬„ä½ç¼ºå¤±ï¼ˆå“åã€æˆåˆ†ï¼‰ã€æˆåˆ†è§£æå¤±æ•— |
| ca_lnhpd | å¿…å¡«æ¬„ä½ç¼ºå¤±ã€æˆåˆ†è³‡æ–™ç©ºç™½ |
| kr_hff | å¿…å¡«æ¬„ä½ç¼ºå¤±ã€æ©Ÿèƒ½æ€§æˆåˆ†ç©ºç™½ |
| jp_fnfc | å¿…å¡«æ¬„ä½ç¼ºå¤±ã€**å·²æ’¤å›ç”¢å“** |
| jp_foshu | å¿…å¡«æ¬„ä½ç¼ºå¤±ã€æ©Ÿèƒ½æ€§æˆåˆ†ç©ºç™½ |
| tw_hf | å¿…å¡«æ¬„ä½ç¼ºå¤±ï¼ˆè¨±å¯è­‰å­—è™Ÿã€å“åã€ä¿å¥åŠŸæ•ˆï¼‰ |
| pubmed | PMID ç‚ºç©ºã€æ¨™é¡Œç‚ºç©ºã€æ‘˜è¦ç‚ºç©º |

> å„ Layer çš„è©³ç´°è§¸ç™¼è¦å‰‡å®šç¾©æ–¼ `core/Extractor/Layers/{layer}/CLAUDE.md`

#### ç”¢å“æª”æ¡ˆè™•ç†

**REVIEW_NEEDED ç”¢å“ï¼ˆè³‡æ–™ä¸å®Œæ•´ï¼‰**ï¼š
- âœ… ä¿ç•™ `.md` æª”æ¡ˆæ–¼ `docs/Extractor/{layer}/{category}/`
- âœ… æª”æ¡ˆé–‹é ­æ¨™è¨˜ `[REVIEW_NEEDED]`
- âŒ **ä¸ç´å…¥ Mode å ±å‘Šçµ±è¨ˆ**ï¼ˆéœé»˜æ’é™¤ï¼Œå ±å‘Šä¸­ä¸é¡¯ç¤º REVIEW_NEEDED æ•¸é‡ï¼‰

**å·²æ’¤å›ç”¢å“ï¼ˆWithdrawnï¼‰**ï¼š
- âœ… ä¿ç•™ `.md` æª”æ¡ˆï¼Œæ¨™è¨˜æ’¤å›ç‹€æ…‹
- âœ… **å¯ç´å…¥å ±å‘Šåˆ†æ**ï¼šæ’¤å›è¶¨å‹¢ã€æ’¤å›åŸå› ã€æ˜¯å¦æœ‰å…ˆä¾‹ç­‰
- é€™æ˜¯å¸‚å ´æƒ…å ±çš„ä¸€éƒ¨åˆ†ï¼Œä¸æ˜¯è³‡æ–™å“è³ªå•é¡Œ

#### Mode å ±å‘Šè¼¸å‡ºè¦å‰‡

**å ±å‘Šä¸­ä¸æ‡‰å‡ºç¾**ï¼š
- âŒ REVIEW_NEEDED æ•¸é‡çµ±è¨ˆ
- âŒ ã€Œæ’é™¤ N ç­† REVIEW_NEEDEDã€å­—æ¨£
- âŒ è³‡æ–™å“è³ªå‚™è¨»ä¸­çš„ REVIEW_NEEDED è¨ˆæ•¸

**å ±å‘Šä¸­å¯ä»¥å‡ºç¾**ï¼š
- âœ… æ’¤å›ç”¢å“åˆ†æï¼ˆè¶¨å‹¢ã€åŸå› ã€å…ˆä¾‹ï¼‰
- âœ… è³‡æ–™è¦†è“‹ç¯„åœèªªæ˜ï¼ˆå¦‚ã€ŒæˆåŠŸèƒå–æˆåˆ†è³‡è¨Šçš„ç”¢å“é” N ç­†ã€ï¼‰

**åŸå‰‡**ï¼šå ±å‘Šå‘ˆç¾çš„æ˜¯ã€Œæœ‰æ•ˆçµ±è¨ˆã€ï¼Œè®€è€…ç„¡éœ€çŸ¥é“æœ‰å¤šå°‘ç”¢å“å› è³‡æ–™ä¸å®Œæ•´è¢«æ’é™¤ã€‚

#### ç¯„ä¾‹

```markdown
# æ­£ç¢ºå¯«æ³• âœ…
æœ¬æœˆæˆåˆ†é›·é”å ±å‘Šåˆ†æäº”å¤§å¸‚å ´å…± 410,640 ç­†ä¿å¥é£Ÿå“ç”¢å“è³‡æ–™ï¼Œ
æˆåŠŸèƒå–æˆåˆ†è³‡è¨Šçš„ç”¢å“é” 346,446 ç­†ï¼ˆ84.4%ï¼‰ã€‚

# éŒ¯èª¤å¯«æ³• âŒ
æœ¬æœˆåˆ†æ 410,640 ç­†ç”¢å“ï¼Œæ’é™¤ 460 ç­† REVIEW_NEEDED æ¨™è¨˜å¾Œï¼Œ
æœ‰æ•ˆçµ±è¨ˆç”¢å“ç‚º 410,180 ç­†ã€‚
```

### ç¦æ­¢è¡Œç‚º

- âŒ è‡ªè¡Œæ–°å¢ category enum
- âŒ æ“´å¤§ REVIEW_NEEDED åˆ¤å®šç¯„åœ
- âŒ ç”¢å‡ºç„¡æ³•é©—è­‰çš„è²æ˜
- âŒ æ··æ·†æ¨æ¸¬èˆ‡äº‹å¯¦
- âŒ Read å·¥å…·è®€å–å¤§å‹ .jsonl
- âŒ å ±å‘Šä¸­é¡¯ç¤º REVIEW_NEEDED æ•¸é‡

---

## å®Œæˆå¾Œå›å ±ï¼ˆç²¾ç°¡ç‰ˆï¼‰

> âš ï¸ **é‡è¦**ï¼šå®Œæˆå ±å‘Šå¿…é ˆç²¾ç°¡ï¼Œé¿å… Context è¶…é™ã€‚

### æ¨™æº–æ ¼å¼ï¼ˆç´„ 20 è¡Œä»¥å…§ï¼‰

```markdown
## âœ… åŸ·è¡Œå®Œæˆ

**Layer** (10/10)
us_dsld:214K ca_lnhpd:160K kr_hff:44K jp_fnfc:1.5K jp_foshu:1K tw_hf:555 pubmed:1K dhi:50 dfi:30 ddi:40

**Mode** (4/4)
market_snapshot:2026-W07 ingredient_radar:2026-02 topic_tracking:exo+fish literature_review:exo+fish

**Jekyll** âœ… | **SEO** âœ… | **Git** pushed

**ç•°å¸¸** ç„¡ï¼ˆè‹¥æœ‰å‰‡åˆ—å‡ºï¼‰
```

### æœ‰éŒ¯èª¤æ™‚çš„æ ¼å¼

```markdown
## âš ï¸ åŸ·è¡Œå®Œæˆï¼ˆæœ‰è­¦å‘Šï¼‰

**Layer** (9/10) âŒkr_hff:API timeout
us_dsld:214K ca_lnhpd:160K jp_fnfc:1.5K ...

**éœ€è¦è™•ç†**
- kr_hff: API timeoutï¼Œéœ€æ‰‹å‹•é‡è·‘ `./fetch.sh`
```

### ç¦æ­¢äº‹é …

- âŒ ä¸è¦è¼¸å‡ºå®Œæ•´è¡¨æ ¼ï¼ˆå¤ªä½” Contextï¼‰
- âŒ ä¸è¦é‡è¤‡åˆ—èˆ‰æ¯å€‹ Layer çš„è©³ç´°æ•¸å­—
- âŒ ä¸è¦è¼¸å‡º Jekyll è½‰æ›çš„æª”æ¡ˆæ¸…å–®
- âŒ ä¸è¦åœ¨æ¯å€‹éšæ®µçµæŸæ™‚è¼¸å‡ºä¸­é–“å ±å‘Š

---

## å¥åº·åº¦å„€è¡¨æ¿

åŸ·è¡Œå®Œæˆå¾Œæ›´æ–° `README.md`ï¼š

| ç‹€æ…‹ | æ¢ä»¶ |
|------|------|
| âœ… æ­£å¸¸ | æœ€å¾Œæ›´æ–°åœ¨é æœŸé€±æœŸå…§ |
| âš ï¸ éœ€é—œæ³¨ | è¶…éé æœŸä½†æœªè¶…é 2 å€ |
| âŒ ç•°å¸¸ | è¶…é 2 å€é€±æœŸ |

---

## é€²éšï¼šä¾è³´é—œä¿‚

```
éšæ®µä¸€ï¼ˆå‰æ™¯ï¼‰ï¼šç™¼ç¾
    â”‚
    â–¼
éšæ®µäºŒï¼ˆèƒŒæ™¯å¹³è¡Œï¼‰ï¼šè³‡æ–™è™•ç†
    â”œâ”€â”€ us_dsld â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â”€ ca_lnhpd â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ kr_hff â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ jp_fnfc â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ jp_foshu â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ ç­‰å¾…å…¨éƒ¨å®Œæˆ
    â”œâ”€â”€ tw_hf â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ pubmed â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ dhi â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€ dfi â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â”€ ddi â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
éšæ®µä¸‰ï¼ˆèƒŒæ™¯å¹³è¡Œï¼‰ï¼šå ±å‘Šç”¢å‡º
    â”œâ”€â”€ market_snapshot â”€â”€â”€â”€â”
    â”œâ”€â”€ ingredient_radar â”€â”€â”€â”¤
    â”œâ”€â”€ topic_tracking â”€â”€â”€â”€â”€â”¼â”€â”€â–¶ ç­‰å¾…å…¨éƒ¨å®Œæˆ
    â”‚   â”œâ”€â”€ exosomes        â”‚
    â”‚   â””â”€â”€ fish-oil        â”‚
    â””â”€â”€ literature_review â”€â”€â”˜
        â”œâ”€â”€ exosomes
        â””â”€â”€ fish-oil
                            â”‚
                            â–¼
éšæ®µä¸‰.5ï¼ˆå‰æ™¯ï¼‰ï¼šé¸è³¼æŒ‡å—äº¤äº’ä½œç”¨æ›´æ–°
    â””â”€â”€ update_guide_interactions.py
                            â”‚
                            â–¼
éšæ®µå››ï¼ˆå‰æ™¯ï¼‰ï¼šä¸»é¡Œæ¨è–¦
    â””â”€â”€ recommend_topics.py
                            â”‚
                            â–¼
éšæ®µäº”ï¼ˆå‰æ™¯ï¼‰ï¼šJekyll è½‰æ› + SEO æ³¨å…¥
    â””â”€â”€ convert_to_jekyll.py
                            â”‚
                            â–¼
éšæ®µäº”.5ï¼ˆå‰æ™¯ï¼‰ï¼šSEO é©—è­‰
    â””â”€â”€ validate_seo.py
        â”œâ”€â”€ é€šé â†’ ç¹¼çºŒéƒ¨ç½²
        â””â”€â”€ å¤±æ•— â†’ é˜»æ–·éƒ¨ç½²
                            â”‚
                            â–¼
éšæ®µå…­ï¼ˆå‰æ™¯ï¼‰ï¼šéƒ¨ç½²èˆ‡é©—è­‰
    â”œâ”€â”€ git push origin main
    â”œâ”€â”€ gh run watchï¼ˆç­‰å¾… Actions å®Œæˆï¼‰
    â””â”€â”€ WebFetch é©—è­‰ç¶²ç«™å…§å®¹
                            â”‚
                            â–¼
éšæ®µä¸ƒï¼ˆå‰æ™¯ï¼‰ï¼šä»»å‹™å®Œæˆå“è³ªé—œå¡
    â”œâ”€â”€ é€£çµæª¢æŸ¥
    â”œâ”€â”€ SEO/AEO æ¨™ç±¤æª¢æŸ¥
    â”œâ”€â”€ å…§å®¹æ›´æ–°ç¢ºèª
    â”œâ”€â”€ Git ç‹€æ…‹æª¢æŸ¥
    â””â”€â”€ SOP å®Œæˆåº¦æª¢æŸ¥
        â”œâ”€â”€ å…¨éƒ¨é€šé â†’ å›å ±å®Œæˆ
        â””â”€â”€ æœªé€šé â†’ ä¿®æ­£å¾Œé‡æ–°æª¢æŸ¥
```

---

## éšæ®µå…­ï¼šéƒ¨ç½²èˆ‡é©—è­‰ï¼ˆå¿…åšï¼ï¼‰

âš ï¸ **é‡è¦**ï¼šä»»ä½•ä¿®æ”¹ç¶²ç«™å…§å®¹çš„ä»»å‹™ï¼Œå¿…é ˆå®Œæˆä»¥ä¸‹æ‰€æœ‰æ­¥é©Ÿæ‰ç®—ã€Œå®Œæˆã€ï¼š

### å®Œæˆå®šç¾©ï¼ˆç¼ºä¸€ä¸å¯ï¼‰

1. âœ… `git push origin main` æˆåŠŸ
2. âœ… GitHub Actions å»ºç½®æˆåŠŸï¼ˆ`gh run watch` å…¨ç¶ ï¼‰
3. âœ… WebFetch é©—è­‰ç¶²ç«™å…§å®¹å·²æ›´æ–°
4. âœ… å‘ç”¨æˆ¶å›å ±æ™‚æ˜ç¢ºåˆ—å‡ºä»¥ä¸Šä¸‰é …å®Œæˆç‹€æ…‹

**ç¦æ­¢**ï¼šåªä¿®æ”¹æª”æ¡ˆå°±èªªã€Œå®Œæˆã€ï¼Œå¿…é ˆä¸Šå‚³ä¸¦é©—è­‰ç¶²ç«™æ›´æ–°å¾Œæ‰èƒ½å›å ±å®Œæˆã€‚

### 6.1 Git æäº¤èˆ‡æ¨é€

```bash
# 1. æª¢æŸ¥æ‰€æœ‰è®Šæ›´
git status

# 2. åŠ å…¥æ‰€æœ‰è®Šæ›´ï¼ˆåŒ…å«å ±å‘Šå’Œéœæ…‹é é¢ï¼‰
git add docs/

# 3. æäº¤
git commit -m "feat: update reports for YYYY-MM"

# 4. æ¨é€
git push origin main
```

### 6.2 ç­‰å¾… GitHub Actions å®Œæˆ

```bash
# ç›£çœ‹å»ºç½®ç‹€æ…‹
gh run list --repo weiqi-kids/agent.supplement-product --limit 1

# ç­‰å¾…å®Œæˆ
gh run watch <run-id> --repo weiqi-kids/agent.supplement-product --exit-status
```

### 6.3 ç¶²ç«™å…§å®¹é©—è­‰ï¼ˆWebFetchï¼‰

**å¿…é ˆä½¿ç”¨ WebFetch é©—è­‰ä»¥ä¸‹é é¢**ï¼ˆåŠ  `?v=YYYYMMDD` é¿å…å¿«å–ï¼‰ï¼š

| é é¢ | æª¢æŸ¥é …ç›® |
|------|----------|
| é¦–é  | ä¸»é¡Œè¿½è¹¤å€å¡Šã€ç”¢å“æ•¸é‡ã€æœ€æ–°å ±å‘Šé€£çµ |
| å¤–æ³Œé«”é¦–é  | ç„¡ã€Œå¾…è£œå……ã€ã€å¸‚å ´åˆ†ææ•¸æ“šæ­£ç¢º |
| å¤–æ³Œé«”é¸è³¼æŒ‡å— | æ±ºç­–æ¨¹ã€é¸è³¼è¦é»ã€FAQ å®Œæ•´ |
| å¤–æ³Œé«”å¸‚å ´å ±å‘Š | ç”¢å“æ•¸ã€å“ç‰Œæ’åã€åŠ‘å‹åˆ†å¸ƒ |
| é­šæ²¹é¦–é  | ç„¡ã€Œå¾…è£œå……ã€ã€å¸‚å ´åˆ†ææ•¸æ“šæ­£ç¢º |
| é­šæ²¹é¸è³¼æŒ‡å— | æ±ºç­–æ¨¹ã€é¸è³¼è¦é»ã€FAQ å®Œæ•´ |
| é­šæ²¹å¸‚å ´å ±å‘Š | ç”¢å“æ•¸ã€å“ç‰Œæ’åã€åŠ‘å‹åˆ†å¸ƒ |
| å¸‚å ´å¿«ç…§ | æœ€æ–°é€±å ±å…§å®¹ |
| æˆåˆ†é›·é” | æœ€æ–°æœˆå ±å…§å®¹ |

### 6.4 å¸¸è¦‹å•é¡Œæ’æŸ¥

| å•é¡Œ | åŸå›  | è§£æ±ºæ–¹æ³• |
|------|------|----------|
| é é¢é¡¯ç¤ºèˆŠå…§å®¹ | CDN å¿«å– | URL åŠ  `?v=timestamp` æˆ–å¼·åˆ¶é‡æ–°æ•´ç† |
| é é¢ 404 | ç¼ºå°‘çˆ¶é é¢ index.md | æª¢æŸ¥ `docs/reports/{topic}/reports/index.md` |
| å…§å®¹æ˜¯ã€Œå¾…è£œå……ã€ | éœæ…‹é é¢æœªæ›´æ–° | æ›´æ–° `docs/reports/{topic}/index.md` å’Œ `guide.md` |
| Jekyll å°èˆªéŒ¯èª¤ | frontmatter parent/grand_parent ä¸ç¬¦ | æª¢æŸ¥é é¢å±¤ç´šé—œä¿‚ |

### 6.5 éœ€è¦æ‰‹å‹•æ›´æ–°çš„éœæ…‹é é¢

ä»¥ä¸‹é é¢**ä¸æœƒ**è¢« `convert_to_jekyll.py` è‡ªå‹•æ›´æ–°ï¼Œéœ€æ‰‹å‹•ç¶­è­·ï¼š

```
docs/reports/{topic}/index.md      # ä¸»é¡Œé¦–é ï¼ˆå¸‚å ´åˆ†æã€ä½œç”¨æ©Ÿè½‰ï¼‰
docs/reports/{topic}/guide.md      # é¸è³¼æŒ‡å—ï¼ˆæ±ºç­–æ¨¹ã€FAQï¼‰
docs/reports/{topic}/reports/index.md  # å¸‚å ´å ±å‘Šç´¢å¼•
docs/index.md                      # ç¶²ç«™é¦–é 
```

ç•¶æ–°å¢ä¸»é¡Œæˆ–è³‡æ–™æœ‰é‡å¤§æ›´æ–°æ™‚ï¼Œéœ€åŒæ­¥æ›´æ–°é€™äº›é é¢ã€‚

---

## éšæ®µä¸ƒï¼šä»»å‹™å®Œæˆå“è³ªé—œå¡ï¼ˆå¿…åšï¼ï¼‰

âš ï¸ **é‡è¦**ï¼šæ¯ç•¶è¦å›å ±ã€Œå®Œæˆã€æ™‚ï¼Œå¿…é ˆå…ˆåŸ·è¡Œä»¥ä¸‹æª¢æŸ¥ï¼Œ**å…¨éƒ¨é€šéæ‰èƒ½å›å ±å®Œæˆ**ã€‚

### 7.0 æŠ€è¡“æ•ˆèƒ½æª¢æŸ¥ï¼ˆé¸é…ï¼‰

> ğŸ“Œ å¤§è¦æ¨¡æ›´æ–°æˆ–æ”¹ç‰ˆå¾Œå»ºè­°åŸ·è¡Œï¼Œä¸€èˆ¬ä¾‹è¡Œæ›´æ–°å¯è·³éã€‚

åŸ·è¡ŒæŠ€è¡“å¥æª¢ï¼š
```bash
./revamp/tools/site-audit.sh https://weiqi.kids --output report.json
```

| æŒ‡æ¨™ | æ¨™æº– | é©—è­‰æ–¹å¼ |
|------|------|----------|
| PageSpeed (Mobile) | â‰¥ 70 | site-audit.sh |
| Core Web Vitals LCP | < 2.5s | site-audit.sh |
| Core Web Vitals CLS | < 0.1 | site-audit.sh |
| SSL è©•ç´š | A æˆ–ä»¥ä¸Š | SSL Labs |
| HTML Errors | 0 | W3C Validator |
| Security Score | â‰¥ B | Mozilla Observatory |

**å¿«é€Ÿå–®é …é©—è­‰**ï¼š

```bash
# PageSpeed Insights
curl -s "https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=https://weiqi.kids&strategy=mobile" | jq '{
  score: .lighthouseResult.categories.performance.score,
  lcp: .lighthouseResult.audits["largest-contentful-paint"].displayValue
}'

# SSL è©•ç´š
curl -s "https://api.ssllabs.com/api/v3/analyze?host=weiqi.kids&fromCache=on" | jq '.endpoints[0].grade'

# HTML é©—è­‰
curl -s "https://validator.w3.org/nu/?doc=https://weiqi.kids&out=json" | jq '[.messages[] | select(.type=="error")] | length'
```

### 7.1 é€£çµæª¢æŸ¥

- [ ] æ‰€æœ‰æ–°å¢/ä¿®æ”¹çš„å…§éƒ¨é€£çµæ­£å¸¸ï¼Œç„¡ 404
- [ ] æ‰€æœ‰æ–°å¢/ä¿®æ”¹çš„å¤–éƒ¨é€£çµæ­£å¸¸
- [ ] ç„¡æ­»é€£çµæˆ–æ–·è£‚é€£çµ

### 7.2 SEO + AEO æ¨™ç±¤æª¢æŸ¥

#### Meta æ¨™ç±¤

- [ ] `<title>` å­˜åœ¨ä¸” â‰¤ 60 å­—ï¼Œå«æ ¸å¿ƒé—œéµå­—
- [ ] `<meta name="description">` å­˜åœ¨ä¸” â‰¤ 155 å­—
- [ ] `og:title`, `og:description`, `og:image`, `og:url` å­˜åœ¨
- [ ] `og:type` = "article"
- [ ] `article:published_time`, `article:modified_time` å­˜åœ¨ï¼ˆISO 8601 æ ¼å¼ï¼‰
- [ ] `twitter:card` = "summary_large_image"

#### JSON-LD Schemaï¼ˆ7 ç¨®å¿…å¡«ï¼‰

| Schema | å¿…å¡«æ¬„ä½ |
|--------|----------|
| WebPage | speakableï¼ˆè‡³å°‘ 7 å€‹ cssSelectorï¼‰ |
| Article | isAccessibleForFree, isPartOfï¼ˆå« SearchActionï¼‰, significantLink |
| Person | knowsAboutï¼ˆâ‰¥2ï¼‰, hasCredentialï¼ˆâ‰¥1ï¼‰, sameAsï¼ˆâ‰¥1ï¼‰ |
| Organization | contactPoint, logoï¼ˆå« width/heightï¼‰ |
| BreadcrumbList | position å¾ 1 é–‹å§‹é€£çºŒç·¨è™Ÿ |
| FAQPage | 3-5 å€‹ Question + Answer |
| ImageObject | license, creditText |

#### æ¢ä»¶å¼ Schemaï¼ˆä¾å…§å®¹åˆ¤æ–·ï¼‰

| Schema | è§¸ç™¼æ¢ä»¶ | å¿…å¡«æ¬„ä½ |
|--------|----------|----------|
| HowTo | æœ‰æ­¥é©Ÿæ•™å­¸ | step, totalTime |
| Recipe | æœ‰é£Ÿè­œ | recipeIngredient, recipeInstructions |
| VideoObject | æœ‰åµŒå…¥å½±ç‰‡ | duration, thumbnailUrl |
| ItemList | æœ‰æ’åºæ¸…å–®ï¼ˆã€ŒN å¤§ã€ã€ŒTOPã€ï¼‰ | itemListElement |
| Review | æœ‰è©•æ¸¬å…§å®¹ | itemReviewed, reviewRating |
| AggregateRating | æœ‰å¤šå‰‡è©•è«– | ratingValue, ratingCount |
| Product | æœ‰å•†å“é  | offers, brand |
| Event | æœ‰æ´»å‹•è³‡è¨Š | startDate, location |
| Course | æœ‰èª²ç¨‹å…§å®¹ | provider, offers |
| LocalBusiness | æœ‰åº—å®¶è³‡è¨Š | address, openingHoursSpecification |

#### SGE/AEO æ¨™è¨˜ï¼ˆAI å¼•æ“å„ªåŒ–ï¼‰

| æ¨™è¨˜ | è¦æ±‚ |
|------|------|
| `.key-answer` | æ¯å€‹ H2 å¿…é ˆæœ‰ï¼Œå« `data-question` å±¬æ€§ |
| `.key-takeaway` | æ–‡ç« é‡é»æ‘˜è¦ï¼ˆ2-3 å€‹ï¼‰ |
| `.expert-quote` | å°ˆå®¶å¼•è¨€ï¼ˆè‡³å°‘ 1 å€‹ï¼‰ |
| `.actionable-steps` | è¡Œå‹•æ­¥é©Ÿæ¸…å–® |
| `.comparison-table` | æ¯”è¼ƒè¡¨æ ¼ï¼ˆè‹¥æœ‰ï¼‰ |

#### E-E-A-T ä¿¡è™Ÿ

- [ ] Person Schema æœ‰å°ˆæ¥­èªè­‰ï¼ˆhasCredentialï¼‰
- [ ] è‡³å°‘ 2 å€‹é«˜æ¬Šå¨å¤–éƒ¨é€£çµï¼ˆ.govã€å­¸è¡“æœŸåˆŠã€å°ˆæ¥­å”æœƒï¼‰

#### YMYL æª¢æŸ¥ï¼ˆå¥åº·/è²¡å‹™/æ³•å¾‹å…§å®¹é©ç”¨ï¼‰

- [ ] `lastReviewed` æ¬„ä½ï¼ˆæœ€å¾Œå¯©æ ¸æ—¥æœŸï¼‰
- [ ] `reviewedBy` æ¬„ä½ï¼ˆå¯©æ ¸è€…è³‡è¨Šï¼‰
- [ ] å…è²¬è²æ˜ï¼ˆé†«ç™‚/è²¡å‹™/æ³•å¾‹ï¼‰

### 7.3 å…§å®¹æ›´æ–°ç¢ºèª

- [ ] åˆ—å‡ºæœ¬æ¬¡é è¨ˆä¿®æ”¹çš„æ‰€æœ‰æª”æ¡ˆ
- [ ] é€ä¸€ç¢ºèªæ¯å€‹æª”æ¡ˆéƒ½å·²æ­£ç¢ºæ›´æ–°
- [ ] ä¿®æ”¹å…§å®¹èˆ‡ä»»å‹™è¦æ±‚ä¸€è‡´
- [ ] ç„¡éºæ¼é …ç›®

### 7.4 Git ç‹€æ…‹æª¢æŸ¥

- [ ] æ‰€æœ‰è®Šæ›´å·² commit
- [ ] commit message æ¸…æ¥šæè¿°æœ¬æ¬¡è®Šæ›´
- [ ] å·² push åˆ° Githubï¼ˆé™¤éå¦æœ‰æŒ‡ç¤ºï¼‰
- [ ] é ç«¯åˆ†æ”¯å·²æ›´æ–°

### 7.5 SOP å®Œæˆåº¦æª¢æŸ¥

- [ ] å›é¡§åŸå§‹ä»»å‹™éœ€æ±‚
- [ ] åŸè¨‚ SOP æ¯å€‹æ­¥é©Ÿéƒ½å·²åŸ·è¡Œ
- [ ] ç„¡éºæ¼çš„å¾…è¾¦é …ç›®
- [ ] ç„¡ã€Œä¹‹å¾Œå†è™•ç†ã€çš„é …ç›®

### 7.6 å®Œæˆæª¢æŸ¥å ±å‘Šæ ¼å¼

å®Œæˆæª¢æŸ¥å¾Œï¼Œè¼¸å‡ºä»¥ä¸‹æ ¼å¼ï¼š

```
## å®Œæˆæª¢æŸ¥å ±å‘Š

| é¡åˆ¥ | ç‹€æ…‹ | å•é¡Œï¼ˆå¦‚æœ‰ï¼‰ |
|------|------|-------------|
| æŠ€è¡“æ•ˆèƒ½ | âœ…/âŒ/N/A | ï¼ˆå¤§è¦æ¨¡æ›´æ–°æ™‚æª¢æŸ¥ï¼‰ |
| é€£çµæª¢æŸ¥ | âœ…/âŒ | |
| Meta æ¨™ç±¤ | âœ…/âŒ | |
| Schemaï¼ˆå¿…å¡«ï¼‰ | âœ…/âŒ | |
| Schemaï¼ˆæ¢ä»¶å¼ï¼‰ | âœ…/âŒ/N/A | |
| SGE/AEO æ¨™è¨˜ | âœ…/âŒ | |
| E-E-A-T ä¿¡è™Ÿ | âœ…/âŒ | |
| YMYL | âœ…/âŒ/N/A | |
| å…§å®¹æ›´æ–° | âœ…/âŒ | |
| Git ç‹€æ…‹ | âœ…/âŒ | |
| SOP å®Œæˆåº¦ | âœ…/âŒ | |

**ç¸½çµ**ï¼šX/Y é …é€šéï¼Œç‹€æ…‹ï¼šé€šé/æœªé€šé
```

### 7.7 æª¢æŸ¥æœªé€šéæ™‚

1. **ä¸å›å ±å®Œæˆ**
2. åˆ—å‡ºæ‰€æœ‰æœªé€šéé …ç›®
3. ç«‹å³ä¿®æ­£å•é¡Œ
4. é‡æ–°åŸ·è¡Œæª¢æŸ¥
5. å…¨éƒ¨é€šéæ‰èƒ½èªªã€Œå®Œæˆã€

### 7.8 ä»»å‹™é–‹å§‹æ™‚

æ¥åˆ°æ–°ä»»å‹™æ™‚ï¼Œå…ˆå»ºç«‹æœ¬æ¬¡æª¢æŸ¥æ¸…å–®ï¼š

```
## æœ¬æ¬¡ä»»å‹™æª¢æŸ¥æ¸…å–®

- ä»»å‹™ç›®æ¨™ï¼š[æè¿°]
- é è¨ˆä¿®æ”¹æª”æ¡ˆï¼š
  - [ ] æª”æ¡ˆ1
  - [ ] æª”æ¡ˆ2
- é è¨ˆæ–°å¢å…§å®¹ï¼š
  - [ ] å…§å®¹1
  - [ ] å…§å®¹2
- é©ç”¨çš„æ¢ä»¶å¼ Schemaï¼š[åˆ—å‡º]
- æ˜¯å¦ç‚º YMYL å…§å®¹ï¼šæ˜¯/å¦
```

### 7.9 SEO/AEO åƒè€ƒæ–‡ä»¶

å®Œæ•´ SEO/AEO è¦å‰‡è«‹åƒç…§ï¼š
- `/Users/lightman/weiqi.kids/agent.idea/seo/CLAUDE.md` - SEO + AEO è¦å‰‡åº«
- `/Users/lightman/weiqi.kids/agent.idea/seo/writer/CLAUDE.md` - Writer åŸ·è¡Œæµç¨‹
- `/Users/lightman/weiqi.kids/agent.idea/seo/review/CLAUDE.md` - Reviewer æª¢æŸ¥æ¸…å–®

---

## Context å„ªåŒ–é€²éšç­–ç•¥

### 1. èƒŒæ™¯ä»»å‹™è¼¸å‡ºæ¸…ç†

æ¯æ¬¡åŸ·è¡Œå‰æ¸…ç†èˆŠçš„ output æª”æ¡ˆï¼š
```bash
rm -f /tmp/agent_*.txt 2>/dev/null
```

### 2. åˆ†æ‰¹åŸ·è¡Œï¼ˆContext ç·Šå¼µæ™‚ï¼‰

è‹¥ Context æ¥è¿‘ä¸Šé™ï¼Œæ”¹ç”¨åˆ†æ‰¹æ¨¡å¼ï¼š

**æ‰¹æ¬¡ 1**ï¼šç”¢å“ Layerï¼ˆå¤§è³‡æ–™é‡ï¼‰
```
us_dsld, ca_lnhpd, kr_hff
```

**æ‰¹æ¬¡ 2**ï¼šæ—¥æœ¬ + å°ç£ Layer
```
jp_fnfc, jp_foshu, tw_hf
```

**æ‰¹æ¬¡ 3**ï¼šæ–‡ç» Layer
```
pubmed, dhi, dfi, ddi
```

**æ‰¹æ¬¡ 4**ï¼šMode å ±å‘Š
```
market_snapshot, ingredient_radar, topic_tracking, literature_review
```

æ¯æ‰¹å®Œæˆå¾ŒåŸ·è¡Œ `/compact` é‡‹æ”¾ Contextã€‚

### 3. å¢é‡æ›´æ–°å„ªå…ˆ

å„ªå…ˆä½¿ç”¨å¢é‡æ¨¡å¼æ¸›å°‘è™•ç†é‡ï¼š
```bash
./fetch.sh          # é è¨­å¢é‡
./fetch.sh --full   # åƒ…åœ¨éœ€è¦æ™‚å…¨é‡
```

### 4. çµ±è¨ˆæ›¿ä»£è®€å–

| éœ€æ±‚ | éŒ¯èª¤åšæ³• | æ­£ç¢ºåšæ³• |
|------|----------|----------|
| è¨ˆç®—ç”¢å“æ•¸ | Read æ‰€æœ‰ .md | `find \| wc -l` |
| æŠ½æ¨£åˆ†æ | Read 100+ æª”æ¡ˆ | `ls \| head -3` åªè®€ 3 å€‹ |
| æ¯”å°å·®ç•° | Read å…©ä»½å ±å‘Š | ä½¿ç”¨ `diff` æŒ‡ä»¤ |

### 5. å­ä»£ç†æ•¸é‡æ§åˆ¶

è‹¥åŒæ™‚å•Ÿå‹•éå¤šå­ä»£ç†å°è‡´ Context ç·Šå¼µï¼š
- æœ€å¤šåŒæ™‚ 5 å€‹èƒŒæ™¯å­ä»£ç†
- å„ªå…ˆå®Œæˆå¤§å‹ Layerï¼ˆus_dsld, ca_lnhpdï¼‰
- å°å‹ Layer å¯åˆä½µè™•ç†ï¼ˆtw_hf + jp_foshuï¼‰

---

## ç¶²ç«™æ”¹ç‰ˆæµç¨‹

> ğŸ“Œ **é©ç”¨æ™‚æ©Ÿ**ï¼šå¤§è¦æ¨¡å…§å®¹æ›´æ–°ã€æ–°å¢ä¸»é¡Œã€ç¶²ç«™é‡æ§‹ã€å“ç‰Œèª¿æ•´æ™‚ä½¿ç”¨ã€‚

### æ¦‚è¦½

```
0-Positioning â†’ 1-Discovery â†’ 2-Competitive â†’ 3-Analysis â†’ 4-Strategy â†’ 5-Content-Spec â†’ åŸ·è¡Œ â†’ Final-Review
     â†“              â†“             â†“              â†“            â†“              â†“                       â†“
  Review âœ“      Review âœ“      Review âœ“      Review âœ“     Review âœ“       Review âœ“                Review âœ“
```

### éšæ®µèªªæ˜

| éšæ®µ | ç›®çš„ | è¼¸å‡º | è¦æ ¼æ–‡ä»¶ |
|------|------|------|----------|
| **0-positioning** | é‡æ¸…å“ç‰Œå®šä½ã€æ ¸å¿ƒåƒ¹å€¼ | å®šä½æ–‡ä»¶ | `revamp/0-positioning/CLAUDE.md` |
| **1-discovery** | ç›¤é»ç¾æœ‰å…§å®¹ + æŠ€è¡“å¥æª¢ | å¥æª¢å ±å‘Š + KPI | `revamp/1-discovery/CLAUDE.md` |
| **2-competitive** | åˆ†æç«¶çˆ­å°æ‰‹ | ç«¶å“åˆ†æå ±å‘Š | `revamp/2-competitive/CLAUDE.md` |
| **3-analysis** | å—çœ¾åˆ†æ + å…§å®¹å·®è· | å·®è·åˆ†æå ±å‘Š | `revamp/3-analysis/CLAUDE.md` |
| **4-strategy** | æ”¹ç‰ˆè¨ˆåŠƒ + å„ªå…ˆç´šæ’åº | æ”¹ç‰ˆè¨ˆåŠƒæ›¸ | `revamp/4-strategy/CLAUDE.md` |
| **5-content-spec** | æ¯é å…§å®¹è¦æ ¼ | å…§å®¹è¦æ ¼æ›¸ | `revamp/5-content-spec/CLAUDE.md` |
| **final-review** | é©—æ”¶åŸ·è¡Œçµæœ | é©—æ”¶å ±å‘Š | `revamp/final-review/CLAUDE.md` |

### å¿«é€ŸåŸ·è¡Œ

```bash
# å®Œæ•´æ”¹ç‰ˆæµç¨‹ï¼ˆä¾åºåŸ·è¡Œå„éšæ®µï¼‰
è«‹ä»¥ Writer è§’è‰²ï¼Œåƒç…§ revamp/0-positioning/CLAUDE.md åŸ·è¡Œå“ç‰Œå®šä½åˆ†æ
è«‹ä»¥ Reviewer è§’è‰²ï¼Œåƒç…§ revamp/0-positioning/review/CLAUDE.md æª¢æŸ¥è¼¸å‡º
# ... ä¾åºåŸ·è¡Œå…¶ä»–éšæ®µ ...

# å–®ç¨åŸ·è¡ŒæŠ€è¡“å¥æª¢
./revamp/tools/site-audit.sh https://your-site.com

# ç«¶å“æ¯”è¼ƒåˆ†æï¼ˆæ”¯æ´å¤šå€‹ç«¶å“ï¼‰
./revamp/tools/competitive-audit.sh https://our-site.com https://competitor1.com https://competitor2.com
```

### è‡ªå‹•åŒ–å·¥å…·

| å·¥å…· | ç”¨é€” | è¼¸å‡º |
|------|------|------|
| `site-audit.sh` | ç¶²ç«™æŠ€è¡“å¥æª¢ | Performance/SEO/Security/HTML å ±å‘Š |
| `competitive-audit.sh` | ç«¶å“æ¯”è¼ƒ | å¤šç¶²ç«™æ•ˆèƒ½æ¯”è¼ƒè¡¨ |

**site-audit.sh æª¢æ¸¬é …ç›®**ï¼š

| é¡åˆ¥ | å·¥å…· | æª¢æ¸¬å…§å®¹ |
|------|------|----------|
| æ•ˆèƒ½ | Lighthouse | Performance, SEO, Accessibility, Best Practices, Core Web Vitals |
| å®‰å…¨ | Mozilla Observatory | å®‰å…¨è©•ç´š, æ¸¬è©¦é€šéæ•¸ |
| å®‰å…¨ | SSL Labs | SSL è©•ç´š |
| å®‰å…¨ | HTTP Headers | HSTS, X-Frame-Options, CSP ç­‰ |
| SEO | W3C Validator | HTML éŒ¯èª¤/è­¦å‘Šæ•¸é‡ |
| SEO | robots.txt / sitemap | æ˜¯å¦å­˜åœ¨, URL æ•¸é‡ |

### èˆ‡ä¾‹è¡Œæµç¨‹çš„é—œä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ”¹ç‰ˆæµç¨‹ï¼ˆä¸€æ¬¡æ€§ï¼Œå¤§è¦æ¨¡èª¿æ•´ï¼‰                                 â”‚
â”‚  revamp/ â†’ ç”¢å‡ºå…§å®¹è¦æ ¼æ›¸ â†’ æŒ‡å°å…§å®¹æ’°å¯«                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¾‹è¡Œæµç¨‹ï¼ˆé€±æœŸæ€§ï¼Œè‡ªå‹•åŒ–ï¼‰                                     â”‚
â”‚  Layer fetch â†’ extract â†’ Mode å ±å‘Š â†’ Jekyll â†’ éƒ¨ç½²             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…±ç”¨å“è³ªé—œå¡                                                   â”‚
â”‚  éšæ®µä¸ƒå“è³ªé—œå¡ â† æŠ€è¡“å¥æª¢æŒ‡æ¨™ï¼ˆsite-audit.shï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Writer/Reviewer é›™è§’è‰²æ¨¡å¼

æ¯å€‹éšæ®µéƒ½æœ‰å…©å€‹è§’è‰²ç¢ºä¿å“è³ªï¼š

| è§’è‰² | è·è²¬ | è¦æ ¼æ–‡ä»¶ |
|------|------|----------|
| **Writer** | åŸ·è¡Œåˆ†æã€ç”¢å‡ºæ–‡ä»¶ | `{stage}/CLAUDE.md` |
| **Reviewer** | æª¢æŸ¥å®Œæ•´æ€§ã€é‚è¼¯æ€§ã€å¯¦ç”¨æ€§ | `{stage}/review/CLAUDE.md` |

**åŸ·è¡Œæµç¨‹**ï¼š
1. Writer ä¾æ“šè¦æ ¼ç”¢å‡ºæ–‡ä»¶
2. Reviewer æª¢æŸ¥ä¸¦å›é¥‹
3. é€šé â†’ é€²å…¥ä¸‹ä¸€éšæ®µ
4. æœªé€šé â†’ Writer ä¿®æ­£å¾Œé‡æ–°é€å¯©

### è©³ç´°æ–‡ä»¶

å®Œæ•´è¦æ ¼è«‹åƒç…§ `revamp/CLAUDE.md`ã€‚

---

## ç¶­è­·æ“ä½œ

Layer/Mode çš„æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤ï¼Œåƒè¦‹ `core/CLAUDE.md`ã€‚
